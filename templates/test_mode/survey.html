{% extends "base.html" %}

{% block title %}Test Mode Survey - OPIc Practice Portal{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">
                        <i class="fas fa-clipboard-list me-2"></i>OPIc Test Survey
                    </h4>
                    <p class="mb-0 mt-2">Help us personalize your practice test experience</p>
                </div>
                <div class="card-body p-4">
                    <form method="POST" id="surveyForm">
                        <!-- Personal Information -->
                        <div class="mb-4">
                            <h5 class="text-primary mb-3">
                                <i class="fas fa-user me-2"></i>Personal Information
                            </h5>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="age" class="form-label">Age Range</label>
                                    <select class="form-select" id="age" name="age" required>
                                        <option value="">Select age range</option>
                                        <option value="18-25">18-25</option>
                                        <option value="26-35">26-35</option>
                                        <option value="36-45">36-45</option>
                                        <option value="46-55">46-55</option>
                                        <option value="55+">55+</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="occupation" class="form-label">Occupation</label>
                                    <select class="form-select" id="occupation" name="occupation" required>
                                        <option value="">Select occupation</option>
                                        <option value="student">Student</option>
                                        <option value="teacher">Teacher</option>
                                        <option value="engineer">Engineer</option>
                                        <option value="business">Business Professional</option>
                                        <option value="healthcare">Healthcare Worker</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Language Background -->
                        <div class="mb-4">
                            <h5 class="text-primary mb-3">
                                <i class="fas fa-language me-2"></i>Language Background
                            </h5>
                            
                            <div class="mb-3">
                                <label for="native_language" class="form-label">Native Language</label>
                                <select class="form-select" id="native_language" name="native_language" required>
                                    <option value="">Select native language</option>
                                    <option value="korean">Korean</option>
                                    <option value="chinese">Chinese</option>
                                    <option value="japanese">Japanese</option>
                                    <option value="spanish">Spanish</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="english_level" class="form-label">Current English Level</label>
                                <select class="form-select" id="english_level" name="english_level" required>
                                    <option value="">Select English level</option>
                                    <option value="beginner">Beginner (A1-A2)</option>
                                    <option value="intermediate">Intermediate (B1-B2)</option>
                                    <option value="advanced">Advanced (C1-C2)</option>
                                </select>
                            </div>
                        </div>

                        <!-- Interests and Hobbies -->
                        <div class="mb-4">
                            <h5 class="text-primary mb-3">
                                <i class="fas fa-heart me-2"></i>Interests & Hobbies
                            </h5>
                            
                            <div class="mb-3">
                                <label class="form-label">Select your interests (choose all that apply):</label>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="interests" value="travel" id="travel">
                                            <label class="form-check-label" for="travel">Travel</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="interests" value="sports" id="sports">
                                            <label class="form-check-label" for="sports">Sports</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="interests" value="music" id="music">
                                            <label class="form-check-label" for="music">Music</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="interests" value="movies" id="movies">
                                            <label class="form-check-label" for="movies">Movies</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="interests" value="technology" id="technology">
                                            <label class="form-check-label" for="technology">Technology</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="interests" value="food" id="food">
                                            <label class="form-check-label" for="food">Food & Cooking</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="interests" value="books" id="books">
                                            <label class="form-check-label" for="books">Reading</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="interests" value="art" id="art">
                                            <label class="form-check-label" for="art">Art & Culture</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Test Preferences -->
                        <div class="mb-4">
                            <h5 class="text-primary mb-3">
                                <i class="fas fa-cog me-2"></i>Test Preferences
                            </h5>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="test_duration" class="form-label">Preferred Test Duration</label>
                                    <select class="form-select" id="test_duration" name="test_duration" required>
                                        <option value="">Select duration</option>
                                        <option value="short">Short (15-20 minutes)</option>
                                        <option value="medium">Medium (25-30 minutes)</option>
                                        <option value="long">Long (35-40 minutes)</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="difficulty_preference" class="form-label">Difficulty Preference</label>
                                    <select class="form-select" id="difficulty_preference" name="difficulty_preference" required>
                                        <option value="">Select difficulty</option>
                                        <option value="easy">Easy - Build confidence</option>
                                        <option value="medium">Medium - Balanced challenge</option>
                                        <option value="hard">Hard - Maximum challenge</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg px-5">
                                <i class="fas fa-play me-2"></i>Start Test
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.getElementById('surveyForm').addEventListener('submit', function(e) {
    // Collect checkbox values
    const interests = [];
    document.querySelectorAll('input[name="interests"]:checked').forEach(function(checkbox) {
        interests.push(checkbox.value);
    });
    
    // Add hidden input for interests
    const hiddenInput = document.createElement('input');
    hiddenInput.type = 'hidden';
    hiddenInput.name = 'interests_list';
    hiddenInput.value = interests.join(',');
    this.appendChild(hiddenInput);
});
</script>
{% endblock %}

